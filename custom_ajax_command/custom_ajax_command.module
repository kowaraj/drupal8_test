<?php

function custom_ajax_command_preprocess_page (&$variables) {
 
  $variables['#attached']['library'][] = 'custom_ajax_command/custom_ajax_command';
 
  # Add libraries for anonymous
  $logged_in = \Drupal::currentUser()->isAuthenticated();
  if (! $logged_in) {
    $libraries['#attached']['library'][] = 'core/drupal.ajax';
  }
  render($libraries);
}

function custom_ajax_command_theme($existing, $type, $theme, $path) {
  return [
    'my_template' => [
      'variables' => ['test_var' => NULL],
    ],
    'my_template2' => [
      'variables' => ['test_var' => NULL],
    ],
    'my_template3' => [
      'variables' => [
        'test_var' => NULL,
        'ss_path' => NULL,
        'events' => [],
        'featured' => [],
      ]
    ],
    'ed_online' => [
      'variables' => [
        'ss_path' => NULL,
      ]
    ],
  ];
}
